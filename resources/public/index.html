<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!-- Consider adding a manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <!-- Use the .htaccess and remove these lines to avoid edge case issues.
       More info: h5bp.com/i/378 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title></title>
  <meta name="description" content="">

  <!-- Mobile viewport optimized: h5bp.com/viewport -->
  <meta name="viewport" content="width=device-width">

  <!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/chosen.css">
  <link rel="stylesheet" href="css/jquery.continuous-calendar.css">
  <link rel="stylesheet" href="css/ontrail.css">
  <link href='http://fonts.googleapis.com/css?family=Nosifer&subset=latin-ext' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Audiowide&subset=latin-ext' rel='stylesheet' type='text/css'>

  <!-- More ideas for your <head> here: h5bp.com/d/head-Tips -->

  <!-- All JavaScript at the bottom, except this Modernizr build.
       Modernizr enables HTML5 elements & feature detects for optimal performance.
       Create your own custom Modernizr build: www.modernizr.com/download/ -->
  <script src="js/libs/modernizr-2.5.3.min.js"></script>

  <!-- ga / jro -->
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34593654-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
</head>
<body class="logged-out">
  <header role="top">
    <h1>On Trail</h1>
    <div id="menu" role="menu">
      <ul>
        <li><a class="pageLink" id="exercises" rel="latest">Kaikki lenkit</a></li>
        <li class="right login">
          <a class="logged-out" id="login-link">Kirjaudu sisään</a>
          <a class="pageLink logged-in" id="logout" rel="latest">Kirjaudu ulos</a>
          <form id="login-form" method="post">
            <input id="username" name="username" type="text" placeholder="Username" />
            <input id="password" name="password" type="password" placeholder="Password"/>
            <input id="login" type="button" value="Sisään"/>
          </form>
        </li>
      </ul>
    </div>
  </header>
  <div class="content-area">
    <aside>
      <div>
        <header>
          <div class="logged-in">
            <h2>Omat toiminnot</h2>
	    <p>
	      <a class="pageLink" rel="addex">Lisää lenkki</a><br/>
	      <a class="pageLink" rel="user" id="my-page">Omat lenkit</a><br/>
	      <a class="pageLink" rel="profile">Oma profiili</a><br/>
              <a class="pageLink" rel="home">Selaa harjoituspäiväkirjaa</a><br/>
            </p>
	    <h2>Muut</h2>
	    <p>
	      <a class="pageLink" rel="tbd">Etsi käyttäjiä</a><br/>
	      <a class="pageLink" rel="tbd">Tilastot</a><br/>
	      <a class="pageLink" rel="tbd">Kunniataulukot</a><br/>
            </p>
            <p></p>
          </div>
          <h2>Twitter-aikajana</h2>
          <p>Keskustele ontrailnetistä twitterissä:</p>
          <a class="twitter-timeline" href="https://twitter.com/search?q=%23ontrailnet" data-widget-id="245929627292401664">Tviitit "#ontrailnet"</a>
        </header>
      </div>
    </aside>
    <section role="latest">
      <article>
        <label for="search">Etsi lenkeistä: </label> <input type="text" width="40" id="search">
      </article>
      <div id="entries"></div>
    </section>

    <section role="profile">
      <h2>Käyttäjän profiili.</h2>
      <p>Profiilin tiedot ja muokkaus</p>
    </section>

    <section role="tbd">
      <h2>Tekeillä.</h2>
    </section>
      
    <section role="user">
      <h2>Käyttäjän <span class="current-username"></span> lenkit</h2>
      <div id="user-entries"></div>
    </section>

    <section role="home">
      <article>
        <u>Kaikki</u> Vuosi Kuukausi Viikko
        <h2>Yhteenveto harjoituksista</h2>
        <p></p>
      <table id="homies" class="details">
        <thead><tr><th>Laji</th><th>Matka</th><th>Vauhti</th></th><th>Aika</th><th>Syke</th><th>Kertoja</th></tr></thead>
        <tbody></tbody>
      </table>
      </article>
    </section>

    <section role="addex">
      <article class="edit-form">
        <h2>Lisää uusi lenkki</h2>
        <form id="add-exercise-form" method="post">
          <div>
            <label>Otsikko</label>
            <input id="ex-title" name="title" class="reset" placeholder="Otsikko"/>
            <em class="error title-required">Lisää otsikko</em>
          </div>
          <div>
            <label>Laji</label>
            <select id="ex-sport" name="sport" data-placeholder="Valitse laji..." class="chzn-select" style="width:350px;">
            </select>
          </div>
          <div>
            <label>Kesto</label>
            <input id="ex-duration" name="duration" class="reset" placeholder="Kesto"/><span id="duration-hint"></span>
            <em class="error duration-required">Lenkin kesto vaaditaan</em>
            <em class="error invalid-duration">Lenkin kesto on virheellistä muotoa</em>
          </div>
          <div>
            <label>Matka</label>
            <input id="ex-distance" name="distance" class="reset" placeholder="Matka"/>
          </div>
          <div>
            <label>Keskisyke</label>
            <input id="ex-avghr" name="avghr" class="reset" placeholder="Keskisyke"/>
          </div>
          <div>
            <label>Päivä</label>
              <div id="ex-continuous-date">
                <input style="display: none ! important" id="ex-date" name="date" placeholder="Milloin?"/>
              </div>
          </div>
          <div id="add-tags-select">
            <label>Tagit</label>
            <select id="ex-tags" name="tags" data-placeholder="Lisää tageja..." multiple class="chzn-select" style="width:350px;">
            </select>
          </div>
          <div>
          <div>
            <label>Kuvaus</label>
            <textarea id="ex-body" name="body"class="reset" placeholder="Kerro jotain urheilustasi!"></textarea>
          </div>
          <div>
            <label></label>
            <input id="add-exercise" type="button" value="Lisää lenkki"></input>
          </div>
        </form>
      </article>
    </section>

    <section role="ex" class="full with-comments">
      <div id="exercise"></div>
    </section>

    <section role="tag">
      <article>
        <h2>Tagiin "<span class="current-tag"></span>" liittyvät lenkit</h2>
      </article>

      <div id="tag-entries"></div>
    </section>
    <footer>
    </footer>

  </div>


  <!-- JavaScript at the bottom for fast page loading -->

  <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
  <script src="js/jquery.chosen.0.9.8.min.js"></script>
  <script src="js/jquery.cookie.js"></script>
  <script src="js/jquery.md5.js"></script>
  <script src="js/handlebars-1.0.0.beta.6.js"></script>
  <script src="js/handlebars-helpers.js"></script>
  <script src="js/lodash-0.5.2.js"></script>
  <script src="js/xdate-0.7.js"></script>
  <script src="js/rx.min.js"></script>
  <script src="js/rx.time.min.js"></script>
  <script src="js/rx.jquery.min.js"></script>
  <script src="js/rx.ontrail.js"></script>
  <script src="js/rx.ontrail.backend.js"></script>
  <script src="js/rx.ontrail.validation.js"></script>
  <script src="js/rx.ontrail.pager.js"></script>
  <script src="js/rx.ontrail.session.js"></script>
  <script src="js/jquery.continuous-calendar.js"></script>

  <!-- scripts concatenated and minified via build script -->
  <script src="js/plugins.js"></script>
  <script src="js/script.js"></script>

  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  <!-- end scripts -->

</body>
<script id="exercise-template" type="text/x-handlebars-template">
  <article data-id="{{id}}" class="preview exercise {{sport}}">
    <img class="avatar" src="{{avatar}}" width="48" height="48"><h2><a class="more" rel="ex-{{id}}">{{title}}</a></h2>
    <h4 class="full"><span class="date">{{date}}</span><a class="pageLink" rel="user-{{user}}">{{user}}</a></h4>
    <h4 class="preview"><span class="date">{{date}}</span> <a class="pageLink" rel="user-{{user}}">{{user}}</a>
    {{did}} {{#if distance}} {{distance}} ajassa {{duration}} {{else}}
    {{duration}}{{/if}}</h4>
    <table class="details full">
      <thead><tr><th>Laji</th><th>Matka</th><th>Vauhti</th><th>Aika</th><th>Syke</th><th>Syke-%</th><th>Tagit</th></tr></thead>
      <tr>
	<td>{{sport}}</td><td>{{distance}}</td> <td>{{pace}}</td>
	<td>{{duration}}</td><td>{{avghr}}</td><td>{{hrReserve}}</td><td>{{tags}}</td>
      </tr>
    </table>
    <div class="preview">{{truncate body 100}} <a class="pageLink" rel="ex-{{id}}">{{commentCount}} kommenttia</a>.</div>
    <div class="full">{{{body}}}</div>
    {{#if tags}}
    <div class="full">
      <h4>Tägit:</h4>
      <ul>

      {{#each tags}}
      <li><a class="pageLink" rel="tag-{{this}}">{{this}}</a></li>
      {{/each}}
      </ul>
    </div>
    {{/if}}
    <p class="full"><a class="pageLink" rel="ex-{{id}}"> {{commentCount}} kommenttia</a>.</p>
  </article>
</script>

<script id="single-exercise-template" type="text/x-handlebars-template">
  <article data-id="{{id}}" class="full exercise {{sport}}">
    <img class="avatar" src="{{avatar}}"  width="48" height="48"><h2>{{title}}</h2>
    <h4><span class="date">{{date}}</span><a class="pageLink" rel="user-{{user}}">{{user}}</a></h4>
    <table class="details">
      <thead><tr><th>Laji</th><th>Matka</th><th>Vauhti</th><th>Aika</th><th>Syke</th><th>Syke-%</th><th>Tagit</th></tr></thead>
      <tr>
        <td>{{sport}}</td><td>{{distance}}</td> <td>{{pace}}</td>
        <td>{{duration}}</td><td>{{avghr}}</td><td>{{hrReserve}}</td><td>{{tags}}</td>
      </tr>
    </table>
    <div>{{{body}}}</div>
    {{#if tags}}
    <div>
      <h4>Tägit:</h4>
      <ul>
        {{#each tags}}
        <li><a class="pageLink" rel="tag-{{this}}">{{this}}</a></li>
        {{/each}}
      </ul>
    </div>
    {{/if}}
    </article>
    <h3>Kommentit:</h3>
      {{#each comments}}
      <article class="comment">
        <img class="avatar" src="{{avatar}}"  width="48" height="48"><h2>{{title}}</h2>
        <h4><span class="date">{{date}}</span><a class="pageLink" rel="user-{{user}}">{{user}}</a></h4>
        <div>{{body}}</div>
      </article>
      {{/each}}
    </div>
    <article class="logged-in">
      {{#unless comments}}
      <h4>Ei kommentteja</h4>
      <p>Ole rohkeasti ensimmäinen ja kirjoita oma kommenttisi alle!</p>
      {{/unless}}
      {{#if comments}}
      <h4>Jätä oma kommenttisi</h4>
      {{/if}}
      <form id="add-comment-form" method="post">
        <input name="title" class="required" placeholder="Otsikko"></input>
        <textarea name="body" rows="10" cols="68" placeholder="Kommenttisi"></textarea>
        <input id="add-comment" type="button" value="Kommentoi"></input>
      </form>
    </article>
    <article class="logged-out">
      To be decided
    </article>
</script>

<script id="summary-template" type="text/x-handlebars-template">
  <tr><td>{{sport}}</td><td>{{distance}}</td> <td>{{pace}}</td><td>{{duration}}</td><td>{{avghr}}</td><td>{{count}}</td>
</script>

<script id="sports-create-template" type="text/x-handlebars-template">
  <option>Valitse laji...</option>
  {{#each sports}}
  <option value="{{this}}">{{this}}</option>
  {{/each}}
</script>
<script id="tags-create-template" type="text/x-handlebars-template">
  {{#each tags}}
  <option value="{{this}}">{{this}}</option>
  {{/each}}
</script>

</html>
